<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>datetime — Date and Time Value Manipulation &mdash; PyMOTW 3</title>

    <link rel="stylesheet" href="../_static/pure-min.css" type="text/css">
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/font-awesome/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pymotw.css" type="text/css">

    <link rel="shortcut icon" type="image/png" href="../_static/favicon.png">

    <link rel="alternate" type="application/atom+xml"
          title="Doug Hellmann"
          href="http://feeds.doughellmann.com/DougHellmann" />
    <link rel="alternate" type="application/atom+xml"
          title="PyMOTW Updates"
          href="http://feeds.doughellmann.com/PyMOTW" />

    <meta name="verify-v1" content="5saTcOa2HLac4V85yUg3SARfun1PqT5Upu7IR/6fpv4="/>

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@pymotw" />
    <meta name="twitter:title" content="datetime — Date and Time Value Manipulation" />
    <meta name="twitter:image" content="https://pymotw.com/3/_static/logo-large.png" />

  </head>
  <body>

    <div class="pure-menu pure-menu-open pure-menu-horizontal" id="site-menu">
      <a class="pure-menu-heading" href="../index.html"><img src="../_static/logo.png"> PyMOTW-3</a>

      <ul id="top-menu">
        <li class="pure-menu-selected"><a href="../py-modindex.html"><i class="fa fa-list fa-lg"></i> Module Index</a></li>
        <li class="pure-menu-selected"><a href="../genindex.html"><i class="fa fa-italic fa-lg"></i> Index</a></li>
        <li class="pure-menu-selected"><a class="sociallink" href="http://www.twitter.com/pymotw"
       title="Twitter">
      <i class="fa fa-twitter fa-lg"></i></a></a>
        <li class="pure-menu-selected"><a class="sociallink" href="http://feeds.doughellmann.com/PyMOTW"
       title="Subscribe via RSS">
      <i class="fa fa-rss-square fa-lg"></i></a></li>
      </ul>

    </div>

    <div class="pure-menu pure-menu-open pure-menu-vertical" id="breadcrumbs-menu">
      
      <ul id="breadcrumbs">
        <li class="pure-menu-selected"><a href="../dates.html"><i class="fa fa-arrow-circle-up"></i> Dates and Times</a></li>
      </ul>
    </div>

    <div class="pure-g-r" id="content-container">

      <div class="pure-u-3-4">
        <div class="content">
          
  <div class="section" id="module-datetime">
<span id="datetime-date-and-time-value-manipulation"></span><h1>datetime — Date and Time Value Manipulation<a class="headerlink" href="#module-datetime" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Purpose:</th><td class="field-body">The datetime module includes functions and classes for doing
date and time parsing, formatting, and arithmetic.</td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">datetime</span></code> contains functions and classes for working with dates
and times, separately and together.</p>
<div class="section" id="times">
<h2>Times<a class="headerlink" href="#times" title="Permalink to this headline">¶</a></h2>
<p>Time values are represented with the <code class="docutils literal notranslate"><span class="pre">time</span></code> class. A
<code class="docutils literal notranslate"><span class="pre">time</span></code> instance has attributes for <code class="xref py py-attr docutils literal notranslate"><span class="pre">hour</span></code>,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">minute</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">second</span></code>, and <code class="xref py py-attr docutils literal notranslate"><span class="pre">microsecond</span></code> and can also
include time zone information.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">datetime_time.py</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;hour       :&#39;</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">hour</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;minute     :&#39;</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">minute</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;second     :&#39;</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">second</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;microsecond:&#39;</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">microsecond</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tzinfo     :&#39;</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">tzinfo</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The arguments to initialize a <code class="docutils literal notranslate"><span class="pre">time</span></code> instance are optional, but
the default of <code class="docutils literal notranslate"><span class="pre">0</span></code> is unlikely to be correct.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_time.py

01:02:03
hour       : 1
minute     : 2
second     : 3
microsecond: 0
tzinfo     : None
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">time</span></code> instance only holds values of time, and not a date
associated with the time.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">datetime_time_minmax.py</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Earliest  :&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Latest    :&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Resolution:&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">resolution</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The <code class="xref py py-attr docutils literal notranslate"><span class="pre">min</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">max</span></code> class attributes reflect the valid
range of times in a single day.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_time_minmax.py

Earliest  : 00:00:00
Latest    : 23:59:59.999999
Resolution: 0:00:00.000001
</pre></div>
</div>
<p>The resolution for <code class="docutils literal notranslate"><span class="pre">time</span></code> is limited to whole microseconds.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">datetime_time_resolution.py</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:02.1f}</span><span class="s1"> :&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">),</span>
              <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">microsecond</span><span class="o">=</span><span class="n">m</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ERROR:&#39;</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Floating point values for microseconds cause a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_time_resolution.py

1.0 : 00:00:00.000001
0.0 : 00:00:00
ERROR: integer argument expected, got float
ERROR: integer argument expected, got float
</pre></div>
</div>
</div>
<div class="section" id="dates">
<h2>Dates<a class="headerlink" href="#dates" title="Permalink to this headline">¶</a></h2>
<p>Calendar date values are represented with the <code class="docutils literal notranslate"><span class="pre">date</span></code>
class. Instances have attributes for <code class="xref py py-attr docutils literal notranslate"><span class="pre">year</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">month</span></code>, and
<code class="xref py py-attr docutils literal notranslate"><span class="pre">day</span></code>. It is easy to create a date representing the current date
using the <code class="docutils literal notranslate"><span class="pre">today()</span></code> class method.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">datetime_date.py</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">today</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ctime  :&#39;</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">ctime</span><span class="p">())</span>
<span class="n">tt</span> <span class="o">=</span> <span class="n">today</span><span class="o">.</span><span class="n">timetuple</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tuple  : tm_year  =&#39;</span><span class="p">,</span> <span class="n">tt</span><span class="o">.</span><span class="n">tm_year</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;         tm_mon   =&#39;</span><span class="p">,</span> <span class="n">tt</span><span class="o">.</span><span class="n">tm_mon</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;         tm_mday  =&#39;</span><span class="p">,</span> <span class="n">tt</span><span class="o">.</span><span class="n">tm_mday</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;         tm_hour  =&#39;</span><span class="p">,</span> <span class="n">tt</span><span class="o">.</span><span class="n">tm_hour</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;         tm_min   =&#39;</span><span class="p">,</span> <span class="n">tt</span><span class="o">.</span><span class="n">tm_min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;         tm_sec   =&#39;</span><span class="p">,</span> <span class="n">tt</span><span class="o">.</span><span class="n">tm_sec</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;         tm_wday  =&#39;</span><span class="p">,</span> <span class="n">tt</span><span class="o">.</span><span class="n">tm_wday</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;         tm_yday  =&#39;</span><span class="p">,</span> <span class="n">tt</span><span class="o">.</span><span class="n">tm_yday</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;         tm_isdst =&#39;</span><span class="p">,</span> <span class="n">tt</span><span class="o">.</span><span class="n">tm_isdst</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ordinal:&#39;</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">toordinal</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Year   :&#39;</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mon    :&#39;</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">month</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Day    :&#39;</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>This example prints the current date in several formats:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_date.py

2018-12-09
ctime  : Sun Dec  9 00:00:00 2018
tuple  : tm_year  = 2018
         tm_mon   = 12
         tm_mday  = 9
         tm_hour  = 0
         tm_min   = 0
         tm_sec   = 0
         tm_wday  = 6
         tm_yday  = 343
         tm_isdst = -1
ordinal: 737037
Year   : 2018
Mon    : 12
Day    : 9
</pre></div>
</div>
<p>There are also class methods for creating instances from POSIX
timestamps or integers representing date values from the Gregorian
calendar, where January 1 of the year 1 is <code class="docutils literal notranslate"><span class="pre">1</span></code> and each subsequent
day increments the value by 1.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">datetime_date_fromordinal.py</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">o</span> <span class="o">=</span> <span class="mi">733114</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;o               :&#39;</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;fromordinal(o)  :&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">fromordinal</span><span class="p">(</span><span class="n">o</span><span class="p">))</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;t               :&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;fromtimestamp(t):&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>This example illustrates the different value types used by
<code class="docutils literal notranslate"><span class="pre">fromordinal()</span></code> and <code class="docutils literal notranslate"><span class="pre">fromtimestamp()</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_date_fromordinal.py

o               : 733114
fromordinal(o)  : 2008-03-13
t               : 1544370390.0430489
fromtimestamp(t): 2018-12-09
</pre></div>
</div>
<p>As with <code class="docutils literal notranslate"><span class="pre">time</span></code>, the range of date values supported can be
determined using the <code class="xref py py-attr docutils literal notranslate"><span class="pre">min</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">max</span></code> attributes.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">datetime_date_minmax.py</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Earliest  :&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">min</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Latest    :&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Resolution:&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">resolution</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The resolution for dates is whole days.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_date_minmax.py

Earliest  : 0001-01-01
Latest    : 9999-12-31
Resolution: 1 day, 0:00:00
</pre></div>
</div>
<p>Another way to create new <code class="docutils literal notranslate"><span class="pre">date</span></code> instances uses the
<code class="docutils literal notranslate"><span class="pre">replace()</span></code> method of an existing <code class="docutils literal notranslate"><span class="pre">date</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">datetime_date_replace.py</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">d1</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2008</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">29</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;d1:&#39;</span><span class="p">,</span> <span class="n">d1</span><span class="o">.</span><span class="n">ctime</span><span class="p">())</span>

<span class="n">d2</span> <span class="o">=</span> <span class="n">d1</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2009</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;d2:&#39;</span><span class="p">,</span> <span class="n">d2</span><span class="o">.</span><span class="n">ctime</span><span class="p">())</span>
</pre></div>
</div>
</div>
<p>This example changes the year, leaving the day and month unmodified.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_date_replace.py

d1: Sat Mar 29 00:00:00 2008
d2: Sun Mar 29 00:00:00 2009
</pre></div>
</div>
</div>
<div class="section" id="timedeltas">
<h2>timedeltas<a class="headerlink" href="#timedeltas" title="Permalink to this headline">¶</a></h2>
<p>Future and past dates can be calculated using basic arithmetic on two
<code class="docutils literal notranslate"><span class="pre">datetime</span></code> objects, or by combining a <code class="docutils literal notranslate"><span class="pre">datetime</span></code> with a
<code class="docutils literal notranslate"><span class="pre">timedelta</span></code>.  Subtracting dates produces a <code class="docutils literal notranslate"><span class="pre">timedelta</span></code>,
and a <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> can be added or subtracted from a date to
produce another date. The internal values for a <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> are
stored in days, seconds, and microseconds.</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">datetime_timedelta.py</span><a class="headerlink" href="#id8" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;microseconds:&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">microseconds</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;milliseconds:&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">milliseconds</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;seconds     :&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;minutes     :&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;hours       :&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;days        :&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;weeks       :&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">weeks</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>Intermediate level values passed to the constructor are converted into
days, seconds, and microseconds.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_timedelta.py

microseconds: 0:00:00.000001
milliseconds: 0:00:00.001000
seconds     : 0:00:01
minutes     : 0:01:00
hours       : 1:00:00
days        : 1 day, 0:00:00
weeks       : 7 days, 0:00:00
</pre></div>
</div>
<p>The full duration of a <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> can be retrieved as a number
of seconds using <code class="docutils literal notranslate"><span class="pre">total_seconds()</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">datetime_timedelta_total_seconds.py</span><a class="headerlink" href="#id9" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="k">for</span> <span class="n">delta</span> <span class="ow">in</span> <span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">microseconds</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
              <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">milliseconds</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
              <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
              <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
              <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
              <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
              <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">weeks</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
              <span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:15}</span><span class="s1"> = </span><span class="si">{:8}</span><span class="s1"> seconds&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">delta</span><span class="p">),</span> <span class="n">delta</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">())</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<p>The return value is a floating point number, to accommodate sub-second
durations.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_timedelta_total_seconds.py

0:00:00.000001  =    1e-06 seconds
0:00:00.001000  =    0.001 seconds
0:00:01         =      1.0 seconds
0:01:00         =     60.0 seconds
1:00:00         =   3600.0 seconds
1 day, 0:00:00  =  86400.0 seconds
7 days, 0:00:00 = 604800.0 seconds
</pre></div>
</div>
</div>
<div class="section" id="date-arithmetic">
<h2>Date Arithmetic<a class="headerlink" href="#date-arithmetic" title="Permalink to this headline">¶</a></h2>
<p>Date math uses the standard arithmetic operators.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">datetime_date_math.py</span><a class="headerlink" href="#id10" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Today    :&#39;</span><span class="p">,</span> <span class="n">today</span><span class="p">)</span>

<span class="n">one_day</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;One day  :&#39;</span><span class="p">,</span> <span class="n">one_day</span><span class="p">)</span>

<span class="n">yesterday</span> <span class="o">=</span> <span class="n">today</span> <span class="o">-</span> <span class="n">one_day</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Yesterday:&#39;</span><span class="p">,</span> <span class="n">yesterday</span><span class="p">)</span>

<span class="n">tomorrow</span> <span class="o">=</span> <span class="n">today</span> <span class="o">+</span> <span class="n">one_day</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Tomorrow :&#39;</span><span class="p">,</span> <span class="n">tomorrow</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tomorrow - yesterday:&#39;</span><span class="p">,</span> <span class="n">tomorrow</span> <span class="o">-</span> <span class="n">yesterday</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;yesterday - tomorrow:&#39;</span><span class="p">,</span> <span class="n">yesterday</span> <span class="o">-</span> <span class="n">tomorrow</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>This example with date objects illustrates using <code class="docutils literal notranslate"><span class="pre">timedelta</span></code>
objects to compute new dates, and subtracting date instances to
produce timedeltas (including a negative delta value).</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_date_math.py

Today    : 2018-12-09
One day  : 1 day, 0:00:00
Yesterday: 2018-12-08
Tomorrow : 2018-12-10

tomorrow - yesterday: 2 days, 0:00:00
yesterday - tomorrow: -2 days, 0:00:00
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> object also supports arithmetic with integers,
floats, and other <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> instances.</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">datetime_timedelta_math.py</span><a class="headerlink" href="#id11" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">one_day</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;1 day    :&#39;</span><span class="p">,</span> <span class="n">one_day</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;5 days   :&#39;</span><span class="p">,</span> <span class="n">one_day</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;1.5 days :&#39;</span><span class="p">,</span> <span class="n">one_day</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;1/4 day  :&#39;</span><span class="p">,</span> <span class="n">one_day</span> <span class="o">/</span> <span class="mi">4</span><span class="p">)</span>

<span class="c1"># assume an hour for lunch</span>
<span class="n">work_day</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="n">meeting_length</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;meetings per day :&#39;</span><span class="p">,</span> <span class="n">work_day</span> <span class="o">/</span> <span class="n">meeting_length</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>In this example, several multiples of a single day are computed, with
the resulting <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> holding the appropriate number of
days or hours. The final example demonstrates how to compute values by
combining two <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> objects. In this case, the result is
a floating point number.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_timedelta_math.py

1 day    : 1 day, 0:00:00
5 days   : 5 days, 0:00:00
1.5 days : 1 day, 12:00:00
1/4 day  : 6:00:00
meetings per day : 7.0
</pre></div>
</div>
</div>
<div class="section" id="comparing-values">
<h2>Comparing Values<a class="headerlink" href="#comparing-values" title="Permalink to this headline">¶</a></h2>
<p>Both date and time values can be compared using the standard
comparison operators to determine which is earlier or later.</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">datetime_comparing.py</span><a class="headerlink" href="#id12" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Times:&#39;</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  t1:&#39;</span><span class="p">,</span> <span class="n">t1</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  t2:&#39;</span><span class="p">,</span> <span class="n">t2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  t1 &lt; t2:&#39;</span><span class="p">,</span> <span class="n">t1</span> <span class="o">&lt;</span> <span class="n">t2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dates:&#39;</span><span class="p">)</span>
<span class="n">d1</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  d1:&#39;</span><span class="p">,</span> <span class="n">d1</span><span class="p">)</span>
<span class="n">d2</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  d2:&#39;</span><span class="p">,</span> <span class="n">d2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;  d1 &gt; d2:&#39;</span><span class="p">,</span> <span class="n">d1</span> <span class="o">&gt;</span> <span class="n">d2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>All comparison operators are supported.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_comparing.py

Times:
  t1: 12:55:00
  t2: 13:05:00
  t1 &lt; t2: True

Dates:
  d1: 2018-12-09
  d2: 2018-12-10
  d1 &gt; d2: False
</pre></div>
</div>
</div>
<div class="section" id="combining-dates-and-times">
<h2>Combining Dates and Times<a class="headerlink" href="#combining-dates-and-times" title="Permalink to this headline">¶</a></h2>
<p>Use the <code class="docutils literal notranslate"><span class="pre">datetime</span></code> class to hold values consisting of both date
and time components. As with <code class="docutils literal notranslate"><span class="pre">date</span></code>, there are several
convenient class methods to make creating <code class="docutils literal notranslate"><span class="pre">datetime</span></code> instances
from other common values.</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">datetime_datetime.py</span><a class="headerlink" href="#id13" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Now    :&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Today  :&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;UTC Now:&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">())</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">FIELDS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;month&#39;</span><span class="p">,</span> <span class="s1">&#39;day&#39;</span><span class="p">,</span>
    <span class="s1">&#39;hour&#39;</span><span class="p">,</span> <span class="s1">&#39;minute&#39;</span><span class="p">,</span> <span class="s1">&#39;second&#39;</span><span class="p">,</span>
    <span class="s1">&#39;microsecond&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">FIELDS</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:15}</span><span class="s1">: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">attr</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<p>As might be expected, the <code class="docutils literal notranslate"><span class="pre">datetime</span></code> instance has all of the
attributes of both a <code class="docutils literal notranslate"><span class="pre">date</span></code> and a <code class="docutils literal notranslate"><span class="pre">time</span></code> object.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_datetime.py

Now    : 2018-12-09 10:46:30.494767
Today  : 2018-12-09 10:46:30.494806
UTC Now: 2018-12-09 15:46:30.494812

year           : 2018
month          : 12
day            : 9
hour           : 10
minute         : 46
second         : 30
microsecond    : 495051
</pre></div>
</div>
<p>Just as with <code class="docutils literal notranslate"><span class="pre">date</span></code>, <code class="docutils literal notranslate"><span class="pre">datetime</span></code> provides convenient
class methods for creating new instances. It also includes
<code class="docutils literal notranslate"><span class="pre">fromordinal()</span></code> and <code class="docutils literal notranslate"><span class="pre">fromtimestamp()</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">datetime_datetime_combine.py</span><a class="headerlink" href="#id14" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;t :&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;d :&#39;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>

<span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dt:&#39;</span><span class="p">,</span> <span class="n">dt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">combine()</span></code> creates <code class="docutils literal notranslate"><span class="pre">datetime</span></code> instances from one
<code class="docutils literal notranslate"><span class="pre">date</span></code> and one <code class="docutils literal notranslate"><span class="pre">time</span></code> instance.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_datetime_combine.py

t : 01:02:03
d : 2018-12-09
dt: 2018-12-09 01:02:03
</pre></div>
</div>
</div>
<div class="section" id="formatting-and-parsing">
<h2>Formatting and Parsing<a class="headerlink" href="#formatting-and-parsing" title="Permalink to this headline">¶</a></h2>
<p>The default string representation of a datetime object uses the
ISO-8601 format (<code class="docutils literal notranslate"><span class="pre">YYYY-MM-DDTHH:MM:SS.mmmmmm</span></code>). Alternate formats
can be generated using <code class="docutils literal notranslate"><span class="pre">strftime()</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text">datetime_datetime_strptime.py</span><a class="headerlink" href="#id15" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%a</span><span class="s2"> %b </span><span class="si">%d</span><span class="s2"> %H:%M:%S %Y&quot;</span>

<span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ISO     :&#39;</span><span class="p">,</span> <span class="n">today</span><span class="p">)</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">today</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="nb">format</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;strftime:&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">format</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;strptime:&#39;</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="nb">format</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">datetime.strptime()</span></code> to convert formatted strings to
<code class="docutils literal notranslate"><span class="pre">datetime</span></code> instances.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_datetime_strptime.py

ISO     : 2018-12-09 10:46:30.598115
strftime: Sun Dec 09 10:46:30 2018
strptime: Sun Dec 09 10:46:30 2018
</pre></div>
</div>
<p>The same formatting codes can be used with Python’s <a class="reference external" href="https://docs.python.org/3.5/library/string.html#formatspec">string formatting
mini-language</a> by placing them after the <code class="docutils literal notranslate"><span class="pre">:</span></code> in the field
specification of the format string.</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">datetime_format.py</span><a class="headerlink" href="#id16" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ISO     :&#39;</span><span class="p">,</span> <span class="n">today</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;format(): {:</span><span class="si">%a</span><span class="s1"> %b </span><span class="si">%d</span><span class="s1"> %H:%M:%S %Y}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">today</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>Each datetime format code must still be prefixed with <code class="docutils literal notranslate"><span class="pre">%</span></code>, and
subsequent colons are treated as literal characters to include in the
output.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_format.py

ISO     : 2018-12-09 10:46:30.659964
format(): Sun Dec 09 10:46:30 2018
</pre></div>
</div>
<p>The following table demonstrates all of the formatting codes for 5:00
PM January 13, 2016 in the US/Eastern time zone.</p>
<table border="1" class="colwidths-given docutils" id="id17">
<caption><span class="caption-text">strptime/strftime format codes</span><a class="headerlink" href="#id17" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="10%" />
<col width="50%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Symbol</th>
<th class="head">Meaning</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%a</span></code></td>
<td>Abbreviated weekday name</td>
<td><code class="docutils literal notranslate"><span class="pre">'Wed'</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%A</span></code></td>
<td>Full weekday name</td>
<td><code class="docutils literal notranslate"><span class="pre">'Wednesday'</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%w</span></code></td>
<td>Weekday number – 0 (Sunday) through 6 (Saturday)</td>
<td><code class="docutils literal notranslate"><span class="pre">'3'</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%d</span></code></td>
<td>Day of the month (zero padded)</td>
<td><code class="docutils literal notranslate"><span class="pre">'13'</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%b</span></code></td>
<td>Abbreviated month name</td>
<td><code class="docutils literal notranslate"><span class="pre">'Jan'</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%B</span></code></td>
<td>Full month name</td>
<td><code class="docutils literal notranslate"><span class="pre">'January'</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%m</span></code></td>
<td>Month of the year</td>
<td><code class="docutils literal notranslate"><span class="pre">'01'</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%y</span></code></td>
<td>Year without century</td>
<td><code class="docutils literal notranslate"><span class="pre">'16'</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%Y</span></code></td>
<td>Year with century</td>
<td><code class="docutils literal notranslate"><span class="pre">'2016'</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%H</span></code></td>
<td>Hour from 24-hour clock</td>
<td><code class="docutils literal notranslate"><span class="pre">'17'</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%I</span></code></td>
<td>Hour from 12-hour clock</td>
<td><code class="docutils literal notranslate"><span class="pre">'05'</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%p</span></code></td>
<td>AM/PM</td>
<td><code class="docutils literal notranslate"><span class="pre">'PM'</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%M</span></code></td>
<td>Minutes</td>
<td><code class="docutils literal notranslate"><span class="pre">'00'</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%S</span></code></td>
<td>Seconds</td>
<td><code class="docutils literal notranslate"><span class="pre">'00'</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%f</span></code></td>
<td>Microseconds</td>
<td><code class="docutils literal notranslate"><span class="pre">'000000'</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%z</span></code></td>
<td>UTC offset for time zone-aware objects</td>
<td><code class="docutils literal notranslate"><span class="pre">'-0500'</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%Z</span></code></td>
<td>Time Zone name</td>
<td><code class="docutils literal notranslate"><span class="pre">'EST'</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%j</span></code></td>
<td>Day of the year</td>
<td><code class="docutils literal notranslate"><span class="pre">'013'</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%W</span></code></td>
<td>Week of the year</td>
<td><code class="docutils literal notranslate"><span class="pre">'02'</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%c</span></code></td>
<td>Date and time representation for the current locale</td>
<td><code class="docutils literal notranslate"><span class="pre">'Wed</span> <span class="pre">Jan</span> <span class="pre">13</span> <span class="pre">17:00:00</span> <span class="pre">2016'</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%x</span></code></td>
<td>Date representation for the current locale</td>
<td><code class="docutils literal notranslate"><span class="pre">'01/13/16'</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">%X</span></code></td>
<td>Time representation for the current locale</td>
<td><code class="docutils literal notranslate"><span class="pre">'17:00:00'</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">%%</span></code></td>
<td>A literal <code class="docutils literal notranslate"><span class="pre">%</span></code> character</td>
<td><code class="docutils literal notranslate"><span class="pre">'%'</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="time-zones">
<h2>Time Zones<a class="headerlink" href="#time-zones" title="Permalink to this headline">¶</a></h2>
<p>Within <code class="docutils literal notranslate"><span class="pre">datetime</span></code>, time zones are represented by subclasses of
<code class="docutils literal notranslate"><span class="pre">tzinfo</span></code>. Since <code class="docutils literal notranslate"><span class="pre">tzinfo</span></code> is an abstract base class,
applications need to define a subclass and provide appropriate
implementations for a few methods to make it useful.</p>
<p><code class="docutils literal notranslate"><span class="pre">datetime</span></code> does include a somewhat naive implementation in the
class <code class="docutils literal notranslate"><span class="pre">timezone</span></code> that uses a fixed offset from UTC, and does
not support different offset values on different days of the year,
such as where daylight savings time applies, or where the offset from
UTC has changed over time.</p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text">datetime_timezone.py</span><a class="headerlink" href="#id18" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">min6</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=-</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plus6</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">6</span><span class="p">))</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">min6</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">min6</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span>
      <span class="n">d</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">plus6</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">plus6</span><span class="p">))</span>

<span class="c1"># convert to the current system timezone</span>
<span class="n">d_system</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">astimezone</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d_system</span><span class="o">.</span><span class="n">tzinfo</span><span class="p">,</span> <span class="s1">&#39;      :&#39;</span><span class="p">,</span> <span class="n">d_system</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>To convert a datetime value from one time zone to another, use
<code class="docutils literal notranslate"><span class="pre">astimezone()</span></code>. In the example above, two separate time zones 6
hours on either side of UTC are shown, and the <code class="docutils literal notranslate"><span class="pre">utc</span></code> instance from
<code class="docutils literal notranslate"><span class="pre">datetime.timezone</span></code> is also used for reference. The final output
line shows the value in the system timezone, acquired by calling
<code class="docutils literal notranslate"><span class="pre">astimezone()</span></code> with no argument.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ python3 datetime_timezone.py

UTC-06:00 : 2018-12-09 09:46:30.709455-06:00
UTC : 2018-12-09 15:46:30.709455+00:00
UTC+06:00 : 2018-12-09 21:46:30.709455+06:00
EST       : 2018-12-09 10:46:30.709455-05:00
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The third party module <a class="reference external" href="http://pytz.sourceforge.net/">pytz</a> is a better implementation for time
zones. It supports named time zones, and the offset database is
kept up to date as changes are made by political bodies around the
world.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference external" href="https://docs.python.org/3.7/library/datetime.html">Standard library documentation for datetime</a></li>
<li><a class="reference internal" href="../porting_notes.html#porting-datetime"><span class="std std-ref">Python 2 to 3 porting notes for datetime</span></a></li>
<li><a class="reference internal" href="../calendar/index.html#module-calendar" title="calendar: Classes for working with year, month, and week-oriented values."><code class="xref py py-mod docutils literal notranslate"><span class="pre">calendar</span></code></a> – The <code class="docutils literal notranslate"><span class="pre">calendar</span></code> module.</li>
<li><a class="reference internal" href="../time/index.html#module-time" title="time: Clock time"><code class="xref py py-mod docutils literal notranslate"><span class="pre">time</span></code></a> – The <code class="docutils literal notranslate"><span class="pre">time</span></code> module.</li>
<li><a class="reference external" href="http://labix.org/python-dateutil">dateutil</a> – <code class="docutils literal notranslate"><span class="pre">dateutil</span></code>
from Labix extends the <code class="docutils literal notranslate"><span class="pre">datetime</span></code> module with additional
features.</li>
<li><a class="reference external" href="http://pytz.sourceforge.net/">pytz</a> – World Time Zone database and classes for making
<code class="docutils literal notranslate"><span class="pre">datetime</span></code> objects time zone-aware.</li>
<li><a class="reference external" href="https://en.wikipedia.org/wiki/Proleptic_Gregorian_calendar">WikiPedia: Proleptic Gregorian calendar</a> –
A description of the Gregorian calendar system.</li>
<li><a class="reference external" href="http://www.iso.org/iso/support/faqs/faqs_widely_used_standards/widely_used_standards_other/iso8601">ISO 8601</a> – The standard for numeric representation of Dates
and Time</li>
</ul>
</div>
</div>
</div>



        <div id="footer-nav">
<a id="prev-link" href="../time/index.html"
   title="previous chapter"><i class="fa fa-arrow-circle-left"></i> time — Clock Time</a>
<a id="next-link" href="../calendar/index.html"
   title="next chapter">calendar — Work with Dates <i class="fa fa-arrow-circle-right"></i></a>
        </div>

        </div>
      </div>

      <div class="pure-u-1-4">
        <div class="sidebar-wrapper">
          <div class="sidebar">
<div id="sidebar-toc">
  <h5>Quick Links</h5>
  <ul>
    
    <li><a href="#times"><i class="fa fa-caret-right"></i>Times</a></li>
    
    <li><a href="#dates"><i class="fa fa-caret-right"></i>Dates</a></li>
    
    <li><a href="#timedeltas"><i class="fa fa-caret-right"></i>timedeltas</a></li>
    
    <li><a href="#date-arithmetic"><i class="fa fa-caret-right"></i>Date Arithmetic</a></li>
    
    <li><a href="#comparing-values"><i class="fa fa-caret-right"></i>Comparing Values</a></li>
    
    <li><a href="#combining-dates-and-times"><i class="fa fa-caret-right"></i>Combining Dates and Times</a></li>
    
    <li><a href="#formatting-and-parsing"><i class="fa fa-caret-right"></i>Formatting and Parsing</a></li>
    
    <li><a href="#time-zones"><i class="fa fa-caret-right"></i>Time Zones</a></li>
    
  </ul>
</div>

          </div>
          <div class="sidebar"><div id="sidebar-last-updated">
  This page was last updated 2018-12-09.
</div>

          </div>
          <div class="sidebar">
<div id="sidebar-nav">
  <h5>Navigation</h5>
  <ul>
    <li><a href="../time/index.html"
           title="previous chapter"><i class="fa fa-arrow-circle-left"></i>time — Clock Time</a></li>
    <li><a href="../calendar/index.html"
           title="next chapter"><i class="fa fa-arrow-circle-right"></i>calendar — Work with Dates</a></li>
  </ul>
</div>
          </div>
          <div class="sidebar"><div id="sidebar-book"><a target="new" href="https://doughellmann.com/books/the-python-3-standard-library-by-example/"><img src="../_static/book-cover-image-med.jpg"><br>Get the book</a></div>
          </div>
          <div class="sidebar"><div id="sidebar-example-disclaimer">
<p>The output from all the example programs
from PyMOTW-3 has been generated with Python 3.7.9, unless
otherwise noted. Some of the features described here may not be
available in earlier versions of Python.</p>
<p>Looking for <a href="/2/">examples for Python 2</a>?</p>
</div>
          </div>

        </div>
      </div>

    </div>

    <div class="pure-g-r" id="footer">

      <div class="pure-u-1-3">
        <div class="footer-list">
            <h4>This Site</h4>
            <ul>
              <li><a href="../py-modindex.html"><i class="fa fa-list fa-lg"></i> Module Index</a></li>
              <li><a href="../genindex.html"><i class="fa fa-italic fa-lg"></i> Index</a></li>
            </ul>
        </div>
      </div><div class="pure-u-1-3">
          <div class="footer-content">
            <div class="socialmedia">
              <a class="sociallink" href="../index.html"
       title="Home">
      <i class="fa fa-home fa-lg"></i></a>
              <a class="sociallink" href="../about.html"
       title="About">
      <i class="fa fa-user fa-lg"></i></a>
              <a class="sociallink" href="http://www.twitter.com/pymotw"
       title="Twitter">
      <i class="fa fa-twitter fa-lg"></i></a>
              <a class="sociallink" href="http://feeds.doughellmann.com/PyMOTW"
       title="Subscribe via RSS">
      <i class="fa fa-rss-square fa-lg"></i></a>
              <a class="sociallink" href="http://feedburner.google.com/fb/a/mailverify?uri=PyMOTW&amp;loc=en_US"
       title="Subscribe via Email">
      <i class="fa fa-envelope fa-lg"></i></a>
            </div>

            <div class="copyright">
              <a rel="author" href="../about.html">&copy; Copyright 2021, Doug Hellmann</a>
            </div>

            <div class="cc"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.en_US" rel="license"><img alt="Creative Commons License BY-NC-SA" style="border-width:0; align: center;" width="88" height="31" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAfCAMAAABUFvrSAAAABGdBTUEAALGOfPtRkwAAAf5QTFRF////////////AAAADQwNDQ4NDg4OEBAQGRkZGxsbHxscICAgIx8gJCQkKCUmKCgoKCkoKSkpKSopKicnKioqLS0tMDAwMS0uMjExMjMxNTY1Pj8+Pzc5Pzs8QEBAQ0RDUFBQUFFQWldYXV5dYGBgY19haGVmbmxscHBwcHJvdXJzdnN0eHV2eXx5en15fH98fX98fnt8f4F+gICAgoWChIGChIWEhIaEh4aHiYyJjIqLjoeLj4+PkY+PkZORkZSRk5iTlZmUlpmWmJaXmpiZnp2dnqCdn5aan5+fn6Oeoqaho6Gho6ijpqqmq7GqrKurrLKrrbOsrrOtrrStr6+vr7Kvr7Sur7WusLOvsLWvsLavsbewsrexsrixs7iytLmztLqztbW1tbq0tru1t7y2uL23ub64ub65urm5ur+5ur+6u8C6u8C7vMC8vMG7vMG8vcK8vcK9vsK9vsO+v7+/v8O+v8S+wMS/wMW/wMXAwcXAwsfCw8fCw8jDxMfDxMjDxMnExcnExcnFxsrFxsrGx8vHyMfHyMzHyMzIycjIyc3Iyc3Jys3Jy8rLy87Ky8/Ky8/LzM/LzNDLzNDMzdDMzdHMzdHNztHNztLOz8/Pz9PP0NPP0NTQ0dTQ0dTR0tXR0tXS09bS1tXV39/f4N/g4+Pj6Ofn7+/v8fHx////rrSdFQAAAAN0Uk5TAAoO5yEBUwAAA+FJREFUSMe1lo9301QUx6uXUmaf0qJ26iTrRoVinUzjQNR1gAyH6Lqx6XTDoVvXbU7qhA5m7CgYWaTDlLa6AiFsba3t+y+9Sdr8OvVMi7zTnLTf5H7ee9/73n11PA1PpDkcADPRWPwKt8YLG2I2n89m7gh8iluJz0dnpqe+HBsdHRn+7w3JyF1cvpbk05mCJG8Xi9uPpMLdNJ9cXV5UyBNjoyMtkR2A3B9Tt8SCfLTTqUzC2XlMvpcRbnA/IPmryYnzoyM9XuWBt8eI21FBcAy5Qk4KtxkGtQ1I+fRNbnk+evHC5NhJDwATDDIAnhNa1ImdFQTHr6WEvNyFPFeATSTYgAu/dl3/I31jNR6bnZ76eDf4yxRb2Q+71aiz/0JB8JXkrZzCdbFVqrUhRHuu54XkytLczAUvBFADUB6ARwnyqEp/t02prK9XdAXBHC9KyPWVqd6qPhyzlOG55dhsL/hLDTD1A3rYAy+dRu6eXaGKruA75wi2hbqigNd+LYSRW6XUSh64l05dXYruA1OPZfAOD3vhObL/ILDvQkRXynSdvPpaiJB+TVHAfEZuA9d9amlVF7TJd3nu+xgwyu8AqNOnDGAM8/obOLhQpWQotPYReZ/SQdKuKQpY2DwKwFJbGwI4VhCSlxchSFUnNC+CCgaV9RAKoZKh1J4le9FmQv5SFQW88aATXGhEws8wrHb7AANc0CndQS+ag5ERaieke0FXvnkxoYL/1MGi7FSmmVBXMDOu3gLK5J2PMjdXv2tmBX6pDdKSkq39DWXh3G1KI4QYVmS3AHCIPnCXE+4hHy6PcfeQ6sV2lufiL2jJ0wasp4p2k/Z2CEXeeqahDBLS1/c8+dBIXq4IkFAiWQ1QtxtnUMz/wsXfBj+1LzdUKn17dvXXzEqfMoFDNWO57QCe22dskKB5g7zXbVN+i0RKumKxonrfzaIVys2wYu7TVrd0PXn1rOnJC4JTFjF5c19/gnXLFwj6jJJz1rOjoi63LnBRfbmNM+qNunG5baSufhu9OPX5my2VTWEzrHrRbIP8dHl+dnpyrIVDBME/q1u6/E9bGmt9i2AsQmeaFaFwIb22soSlfuL8SEtgOCJKB5BsKkNltWyK7zzWMY3X4exDc6GvsljoX5FzR+BxwdCbf3jAdjTJv5/S39H2B2iXpmgXpWB7iVrB0JuVzpgP07CUO2WKqX+oiVL/benKImhgOIzHf7hx/A/IBdHsQ6Nsmruilo4afVFqB8PLn2U2H8hbxeKWjH9YvuiwxNiMaNhALZptCg5d7zh+Sczmclnx0vEOax6ajdjucSMPTcD/97/Cp54Q929ZZbgcR3o0hAAAAABJRU5ErkJggg=="/></a>
            </div>

          </div></div><div class="pure-u-1-3">
          <div class="footer-list">
            <h4>Other Writing</h4>
            <ul>
              <li><a href="https://doughellmann.com/"><i class="fa fa-pencil fa-lg"></i> Blog</a></li>
              <li><a href="https://doughellmann.com/books/the-python-3-standard-library-by-example/"><i class="fa fa-book fa-lg"></i> The Python Standard Library By Example</a></li>
            </ul>
          </div>
        </div><script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-38546875-3', 'pymotw.com');
  ga('send', 'pageview');
</script>

  </body>
</html>